Бот‑калькулятор коммуналки «на лету»
=====================================================

Необходимо добавить бота в группу, дать права на чтение сообщений, команды отправлять ответом на предыдущее сообщение нужного формата.

Можно **переопределять тарифы прямо в команде** — добавьте к
показаниям ключи `cw_rate`, `hw_rate`, `wd_rate`, `el_rate`.

Примеры
-------
* Без изменения тарифов (возьмутся из старого сообщения):
  ```
  .meter 587 49 8108
  ```
* С переопределением горячей воды и электроэнергии:
  ```
  .meter cw=587 hw=49 el=8108 hw_rate=275.00 el_rate=7.12
  ```
* Ключевой формат неважен: можно `cw=587` или `cw=587,` — запятые
  внутри числа тоже принимаются.

Формат сообщений
----------------

```
Хол. вода:
Было - 100
Стало - 110

10 * 59.8 = 598

Гор. вода:
Было - 100
Стало - 110

10 * 272.14 = 2721.4

Водоотведение:
20 * 45.91 = 918.2

Электроэнергия:
Было - 100
Стало - 110

10 * 6,99 = 69.9

Итого: 4307.5
```

Запуск
------
```bash
uv sync
export BOT_TOKEN="123:ABC…"
uv run python main.py
```


Docker
------
```bash
docker-compose up -d
docker-compose logs -f
```